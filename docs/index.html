<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Flux Data Kit • FluxDataKit</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- Fonts --><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Titillium+Web:ital,wght@0,300;0,400;0,700;1,300;1,400&amp;display=swap" rel="stylesheet">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><!-- geco --><link href="geco.css" rel="stylesheet">
<meta property="og:title" content="Flux Data Kit">
<meta property="og:description" content="A processing workflow for aggregated flux and remote sensing data.
 Returns both Land Surface Model or CSV based harmonized and gap filled data.">
<meta name="twitter:card" content="summary">
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">

    <div class="navbar-header">

      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="external-link hidden-sm hidden-xs" href="https://computationales.ethz.ch/">
          <img src="https://raw.githubusercontent.com/computationales/GECO_template/main/geco_logo_small.png" id="hexlogo" alt="GECO"></a>
        <a class="external-link hidden-md hidden-lg" href="https://computationales.ethz.ch/">
          <img src="https://raw.githubusercontent.com/computationales/GECO_template/main/geco_logo_small.png" id="hexlogo" alt="GECO"></a>
        <a class="navbar-brand" href="index.html">
           <i>FluxDataKit <small>v0.9</small></i>
        </a>
      </div>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/01_setup.html">Setup and data provenance</a>
    </li>
    <li>
      <a href="articles/02_data_coverage.html">Data coverage</a>
    </li>
    <li>
      <a href="articles/03_data_generation.html">Data generation</a>
    </li>
  </ul>
</li>
        
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="fluxnet-aggregation-project">Fluxnet aggregation project<a class="anchor" aria-label="anchor" href="#fluxnet-aggregation-project"></a>
</h1></div>
<p>This project is the framework used to create the LEMONTREE “flux data kit”, a dataset with consistent model data for use and re-use. In the interest of consistency across the community we re-use the PLUMBER-2 framework, with a few exceptions. The PLUMBER-2 framework generated consistent gap filled data for land surface modelling. We use the same methods (from the underlying FluxnetLSM package), to provide an expanded dataset covering more sites and site years.</p>
<p>The data is generated using <a href="">set workflow</a> and new releases generated using this workflow when considerable data additions are made to the source (flux) data. Final data will be incrementally deposited in a static <a href="https://zenodo.org/record/7258291" class="external-link">Zenodo repository</a>. Contrary to PLUMBER-2 we do not execute post-hoc data screening. Unless not enough data is available for consistent processing all sites are processed and data is generated. We provide summary statistics on data coverage so users can make an informed decision on how to use the data for their particular use cases.</p>
<blockquote>
<p>DISCLAIMER: Although the this workflow is presented as a functional R package we warn users not to create data themselves. If your required data use the proper released version as deposited on Zenodo. If you do opt to generate data yourselves the authors do not accept any responsibility with respect to the generated results (mistakes and misuse of the package are your own).</p>
</blockquote>
<div class="section level2">
<h2 id="ecosystem-flux-data-sources">Ecosystem flux data sources<a class="anchor" aria-label="anchor" href="#ecosystem-flux-data-sources"></a>
</h2>
<p>We sourced data from openly available ecosystem flux networks or products, mainly ICOS, OneFlux processed data, the FLUXNET2015 dataset and PLUMBER-2 (which includes various data sources in its own right, see Ukkola et al. 2022). Data was sourced from these locations:</p>
<ul>
<li>ICOS data was provided through the ICOS carbon portal, this is a pre-release currently <em>not publicly available</em>
</li>
<li>FLUXNET2015 data can be retrieved from the <a href="https://fluxnet.org/data/fluxnet2015-dataset/" class="external-link">FLUXNET data portal</a>
</li>
<li>OneFlux data can be retrieved from the <a href="https://ameriflux.lbl.gov/data/download-data/" class="external-link">Ameriflux data portal</a>
</li>
<li>PLUMBER data can be downloaded using <a href="https://github.com/computationales/FluxDataKit/blob/main/data-raw/00_download_plumber_data.R" class="external-link">an included script</a>
</li>
<li>MODIS LAI/FPAR data is downloaded by an included script</li>
</ul>
<p>Data should be structured in the following directory structure and referenced to as such in the data generation workflow:</p>
<pre><code>data/
   ├─ modis/
   ├─ flux_data/
      ├─ fluxnet2015/
      ├─ icos/
      ├─ oneflux/
      ├─ ameriflux/</code></pre>
</div>
<div class="section level2">
<h2 id="ecosystem-flux-data-selection">Ecosystem flux data selection<a class="anchor" aria-label="anchor" href="#ecosystem-flux-data-selection"></a>
</h2>
<p>Given the various datasets, and at times overlap between the datasets a priority in processing is given to more recent (hopefully) and more complete datasets. In order of processing this means that OneFlux has priority over FLUXNET2015, and Plumber2. ICOS data has priority over FLUXNET2015 for European sites. Overall, Plumber2 mostly fills in the remaining sites in Asia and Australia. The final picking order is thus:</p>
<ul>
<li>ICOS</li>
<li>OneFlux</li>
<li>FLUXNET2015</li>
<li>PLUMBER-2</li>
</ul>
</div>
<div class="section level2">
<h2 id="data-products">Data products<a class="anchor" aria-label="anchor" href="#data-products"></a>
</h2>
<div class="section level3">
<h3 id="land-surface-modelling-lsm-data-netcdf">Land Surface Modelling (LSM) data (netCDF)<a class="anchor" aria-label="anchor" href="#land-surface-modelling-lsm-data-netcdf"></a>
</h3>
<p>We deliver gap filled ecosystem flux data in line with the PLUMBER dataset. We refer to the original publication (<a href="https://essd.copernicus.org/articles/14/449/2022/essd-14-449-2022.pdf" class="external-link">Ukkola et al. 2022</a>) for data details. Data is provided as two netCDF files per site, one file <code>*Flux.nc</code> contains all ecosystem fluxes while a <code>*Met.nc</code> file contains the matching meteorological values.</p>
<div class="section level4">
<h4 id="exceptions-and-processing-differences">Exceptions and processing differences<a class="anchor" aria-label="anchor" href="#exceptions-and-processing-differences"></a>
</h4>
<p>Contrary to the original PLUMBER data we report both data for a closed energy balance, and the raw data inputs (on request of some data users). Furthermore, we report both MODIS based leaf area index (LAI) and fraction of absorbed photosynthetic active radiation (FAPAR). Processing of the MODIS data was also altered and now follows a workflow similar to the one integrated in the {phenocamr} package. Data is smoothed using a LOESS based curve fitting with a BIC optimized smoothing kernel, instead of multiple cubic splines.</p>
</div>
</div>
<div class="section level3">
<h3 id="half-hourly-and-daily-fluxnet-data-output-csv">Half-hourly and daily FLUXNET data output (CSV)<a class="anchor" aria-label="anchor" href="#half-hourly-and-daily-fluxnet-data-output-csv"></a>
</h3>
<p>To provide easily readable data as requested by some data users we convert the netCDF data to a human-readable CSV file adhering to FLUXNET column- and file-naming conventions. These half-hourly files are further downsampled to a daily time step for modelling efforts which require daily data. The daily data should be easily merged on a day by day basis with remote sensing data as provided by the FluxnetEO data product (Walther et al. 2022).</p>
<blockquote>
<p>Downsampled daily data is an aggregation of the half-hourly data and not, as would be the case when downloading daily data from an ecosystem flux processing chain, a completely separate product. Some discrepancies therefore exist between the downsampled data and the equivalent daily ecosystem flux product.</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="p-model-drivers-structured-r-data">p-model drivers (structured R data)<a class="anchor" aria-label="anchor" href="#p-model-drivers-structured-r-data"></a>
</h3>
<p>A final data product derived from the initial gap-filled LSM data are p-model driver data for the <a href="https://github.com/computationales/rsofun" class="external-link"><code>rsofun</code></a> package. In the current setup <em>in-situ</em> environmental forcing will be combined with GPP values as target data for model calibration.</p>
</div>
<div class="section level3">
<h3 id="ancillary-remote-sensing-data">Ancillary remote sensing data<a class="anchor" aria-label="anchor" href="#ancillary-remote-sensing-data"></a>
</h3>
<p>For machine learning or other modelling purposes we provide ancillary MODIS based remote sensing data as described in the FluxnetEO dataset. We refer to the original publication and our <a href="https://bg.copernicus.org/articles/19/2805/2022/" class="external-link">FluxnetEO</a> package for easy reading and processing of the data.</p>
</div>
</div>
<div class="section level2">
<h2 id="data-and-code-availabilty">Data and code availabilty<a class="anchor" aria-label="anchor" href="#data-and-code-availabilty"></a>
</h2>
<p>Data releases are made public via a Zenodo archive at <a href="https://zenodo.org/record/7258291" class="external-link">https://zenodo.org/record/7258291</a>. The processing workflow relies on the <code>FluxDataKit</code> R package and a <a href="https://github.com/computationales/FluxDataKit/tree/main/analysis" class="external-link">workflow described in the repository</a>.</p>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p>The flux data kit is part of the LEMONTREE project and funded by Schmidt Futures and under the umbrella of the Virtual Earth System Research Institute (VESRI).</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Ukkola, Anna M., Gab Abramowitz, and Martin G. De Kauwe. “A flux tower dataset tailored for land model evaluation.” Earth System Science Data 14.2 (2022): 449-461.</p>
<p>Ukkola, A. M., Haughton, N., De Kauwe, M. G., Abramowitz, G., and Pitman, A. J.: FluxnetLSM R package (v1.0): a community tool for processing FLUXNET data for use in land surface modelling, Geosci. Model Dev., 10, 3379-3390, 2017</p>
<p>Walther, Sophia, et al. “A view from space on global flux towers by MODIS and Landsat: the FluxnetEO data set.” Biogeosciences 19.11 (2022): 2805-2840.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/AGPL-3" class="external-link">AGPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing FluxDataKit</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Koen Hufkens <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-5070-8109" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </div>
</div>


      <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/computationales" target="_blank" class="external-link">
                          <div class="icon fab fa-github"></div></a>
                        <a href="https://computationales.ethz.ch/" target="_blank" class="external-link">
                          <div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/SteniBocker/" target="_blank" class="external-link">
                          <div class="icon fab fa-twitter"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://computationales.ethz.ch/" class="external-link">Computationales</a></li>
                            <li><a href="https://computationales.ethz.ch/" class="external-link">Our Team</a></li>
                            <li><a href="https://computationales.ethz.ch/" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://github.com/computationales" class="external-link">Packages</a></li>
                            <li><a href="https://computationales.ethz.ch/" class="external-link">Publications</a></li>
                            <li><a href="https://computationales.ethz.ch/" class="external-link">Blog</a></li>
                        </ul>
</div>

                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
</div>

  


  

  </body>
</html>
